I'll create a comprehensive summary of our entire discussion about the challenge system.

# MathWars Challenge System - Complete Summary

## 1. Core Challenge Types

### A. Cumulative Challenges (Progress adds up across games)
1. **Score/Progress Accumulation**
   - "Score 10,000 total points in [Game]"
   - "Complete 200 total moves in 2048"
   - "Type 50 total digits of Pi"
   - "Solve 100 total equations in Equation Blitz"
   - "Calculate 50 total triangle areas"

2. **Streak Accumulation**
   - "Achieve 50 total streak points in [Game]"
   - Streak points from all games are summed
   - Example: Game 1: 20 streak, Game 2: 15 streak, Game 3: 15 streak = 50 (Completed)

### B. Consistency Challenges (All multi-game)
1. **Game-Specific Milestones**
   - 2048: "Reach the 256 tile (3 times)"
   - Pi Memory: "Reach level 10 (5 times)"
   - Prime or Not: "Answer 20 questions correctly (4 times)"
   - Geometry: "Solve 5 triangle area problems in one game (3 times)"
   - Equation Blitz: "Complete 10 equations in one game (5 times)"

2. **Universal Metrics**
   - "Score 1,000+ points in [Game] (5 times)"
   - "Get a 5-streak in [Game] (10 times)"

## 2. Challenge Generation Rules

1. **General Challenges (65%)**
   - Mix of cumulative and consistency challenges
   - Example: "Score 1,000+ points in [Game] (5 times)"

2. **Game-Specific (35%)**
   - Based on unique game mechanics
   - Example: "Reach level 10 in Pi Memory (3 times)"

## 3. Key Design Decisions

1. **Attribute Classification**
   - General: Appears in >6 games
   - Ignored: Appears in 3-6 games
   - Game-Specific: Appears in 1-3 games

2. **Progress Tracking**
   - **Cumulative**: Sums progress across all games
   - **Consistency**: Counts number of games where condition was met

3. **Challenge Difficulty**
   - Cumulative challenges have higher targets
   - Consistency challenges require multiple completions

## 4. Implementation Notes

1. **Database Schema**
   - Track both cumulative progress and individual game achievements
   - Store challenge type, target, and current progress

2. **UI/UX Considerations**
   - Show progress for both challenge types
   - Visual distinction between cumulative and consistency challenges
   - Clear indication of progress (e.g., "3/5 games completed")

3. **Edge Cases**
   - Handle game crashes during challenges
   - Prevent progress duplication
   - Handle concurrent updates

## 5. Example Challenges

### Cumulative Examples
- "Score 15,000 total points in Slope Sprint"
- "Achieve 75 total streak points in Arithmetic Blaster"
- "Type 100 total digits of Pi"

### Consistency Examples
- "Reach the 512 tile in 2048 (2 times)"
- "Score 2,000+ points in one game of Factor Frenzy (3 times)"
- "Get a 10-streak in Prime or Not (5 times)"

This summary captures all key aspects of our discussion and serves as a comprehensive reference for implementing the challenge system.